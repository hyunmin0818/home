# charset

```
<%@ page language="java" contentType="text/html; charset=UTF-8"pageEncoding="UTF-8"%>
```

**이 코드는 JSP페이지가 생성할 문서가 HTML이며, 문서의 캐릭터셋(character set이 UTF-8인 것을 나타낸다.**

# JSP 페이지의 구성 요소

**JSP 페이지를 작성하려면 크게 7가지 구성 요소들이 있는데**

1. 디렉티브(Directive)
2. 스크립트: 스크립트릿(Scriptlet), 표현식(Expression), 선언부(declaration)
3. 표현언어(Expression Language)
4. 기본 객체(Implicit Object)
5. 정적인 데이터
6. 표준 액션 태그(Action Tag)
7. 커스텀 태그(Custom Tag)와 표준 태그 라이브러리(JSTL)

**이 7가지 구성 요소들을 익히는 과정이 바로 JSP를 공부하는 과정이라고 할 수 있다.**

# 디렉티브

**디렉티브는 JSP 페이지에 대한 설정 정보를 지정할 때 사용되며 다음과 같은 구문을 통해서 디렉티브를 선언한다.**

```
<%@ 디렉티브이름 속성1="값1" 속성2="값2" ... %>
```

**디렉티브는 '<%@'으로 시작하고 그 뒤에 디렉티브 이름이 위치하게 한다. 사용하는 디렉티브에 따라서 알맞은 속성이 위치하며 '%>'로 디렉티브 선언이 끝난다.**
|디렉티브|설명
|----|----:
|page|JSP페이지에 대한 정보를 지정하고 JSP가 생성하는 문서의 타입, 출력버퍼의 크기, 에러 페이지등 jsp페이지에서 필요로 하는 정보를 설정
|taglib|JSP페이지에서 사용할 태그 라이브러리를 지정한다.
|include|JSP페이지의 특정 영역에 다른 문서를 포함시킨다.

# 스크립트

**JSP에서 문서의 내용을 동적으로 생성하기 위해 사용되는 것이 스크립트 요소이다. 스크립트 요소를 사용하면 사용자가 폼에 입력한 정보를 데이터베이스에 저장할 수 있으며 데이터베이스로부터 게시글 목록을 읽어와 출력할 수도 있다. 또한 스크립트를 사용하면 자바가 제공하는 다양한 기능도 사용할 수 있다.**<br>
**JSP의 스크립트 요소는 다음과 같이 세가지가 있는데**

1. 표현식(Expression) - 값을 출력한다.
2. 스크립트릿(Script) - 자바 코드를 실행한다.
3. 선언부(Declaration) - 자바 메서드(함수)를 만든다.

# 기본 객체

**JSP는 웹 어플리케이션 프로그래밍을 하는 데 필요한 기능을 제공해주는 기본객체를 제공하고 있는데 <br>**

- request
- response
- session
- application
- page<br>

**등 다수의 기본 객체가 존재하는데 이들은 각각 요청 파라미터 읽어오기, 응답결과 전송하기, 세션 처리하기, 웹 어플리케이션 정보 읽어오기 등의 기능을 제공하고 있다.**
**이들 기본 객체를 모든 JSP 페이지에서 사용하는 것은 아니며 request 기본 객체, session 기본 객체 그리고 response 기본 객체를 주로 사용한다.**

# 표현 언어

**JSP의 스크립트 요소(스크립트릿과 표현식 그리고 선언부)는 자바 문법을 그대로 사용할 수 있기 때문에 자바 언어의 특징을 그대로 사용할 수 있따는 장점이 있지만 스크립트 요소를 사용하면 JSP 코드가 복잡해지는데**

```
<%
int a = Integer.parseInt(request.get.Parameter("a"));
int b = Integer.parseInt(request.get.Parameter("b"));
%>
```

**간단히 코드에 대해 설명하자면 두 개의 문자열 값을 정수로 변환한 뒤 두 숫자를 곱한 값을 응답으로 출력하는 코드이다. 위 코드를 표현언어로 변환하면 간결하게 작성할 수 있는데**

```
a * b = ${param.a * param.b}
```

**표현언어는 '${'와'}'사이에 정해진 문법을 따르는 식(expression; 값을 생성하는 코드)을 입력하고 JSP는 이 식을 분석해서 알맞은 기능을 실행한다. 표현언어를 사용하는 것이 더 간결하고 이해하기 좋게 만들어 주기 때문에 특별한 이유가 없는 한 표현 언어를 주로 사용한다.**

# 표준 액션 태그와 태그 라이브러리

**액션 태그는 JSP페이지에서 특별한 기능을 제공하는데 예를들면 다음 코드에서 사용한 <jsp:include>가 액션 태그인데 이 액션 태그는 특정한 페이지의 실행 결과를 현재 위치에 포함시킬때 사용한다.**

```
<%@ page contentType = "text/html; charset=utf-8"%>
...
<html>
<jsp:include page="header.jsp" flush="true" />
...
</html>
```

**액션 태그는 <jsp:액션태그이름>의 형태를 띄며 액션 태그 종류에 따라서 서로 다른 속성값을 갖는다.**

# 커스텀 태그

**커스텀 태그는 JSP를 확장시켜주는 기능으로서 액션 태그와 마찬가지로 태그 형태로 기능을 제공한다.<br>액션태그와 차이점은 커스텀 태그는 개발자가 직접 개발해주어야 한다는 것인데 일반저긍로 JSP 코드에서 중복되는 것을 모듈화 하거나 스크립트 코드를 사용할 때 발생하는 소스 코드의 복잡함을 없애기 위해 커스텀 태그를 사용한다.**

# page 디렉티브

**page 디렉티브는 JSP페이지에 대한 정보를 입력하기 위해서 사용되는데 page 디렉티브를 사용하면 JSP 페이지가 어떤 문서를 생성하는지 어떤 자바클래스를 사용하는지, 세션에 참여하는지, 출력 버퍼의 존재 여부와 같이 JSP페이지를 실핸하는 데 필요한 정보를 입력할 수 있다.**

```
<%@ page contentType="text/html; charset=utf-8"%>
<%@ page import="java.util.Date"%>
```

**위 코드는 page 디렉티브 작성의 예시인데 두 개의 page 디렉티브가 각각 contentType속성과 import 속성을 사용해서 JSP 페이지에 필요한 정보를 설정하고 있다.**
